---
# Copyright (c) 2023 Dell Inc., or its subsidiaries. All Rights Reserved.
# 
# Licensed under the Mozilla Public License Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://mozilla.org/MPL/2.0/
# 
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

title: "ome_appliance_network resource"
linkTitle: "ome_appliance_network"
page_title: "ome_appliance_network Resource - terraform-provider-ome"
subcategory: ""
description: |-
  This terraform resource is used to manage Appliance Network Settings on OME.We can Create, Update and Delete OME Appliance Network Settings using this resource.
---

# ome_appliance_network (Resource)

This terraform resource is used to manage Appliance Network Settings on OME.We can Create, Update and Delete OME Appliance Network Settings using this resource.

~> **Note:** Exactly one of `ref_template_name` and `ref_template_id` and exactly one of `device_ids` and `device_servicetags` are required.

~> **Note:** When `schedule` is `true`, following parameters are considered: `notify_on_schedule`, `cron`, `email_addresses`, `output_format`.

~> **Note:** Updates are supported for all the parameters.

## Example Usage

```terraform
resource "ome_appliance_network" "net1" {
  // to change the ome appliance time setting
  time_setting = {
    time_zone              = "TZ_ID_65"
    enable_ntp             = true
    primary_ntp_address    = "1.0.0.0"
    secondary_ntp_address1 = "2.0.0.0"
    secondary_ntp_address2 = "3.0.0.0"
  }
  // to change the ome appliance session setting
  session_setting = {
    enable_universal_timeout = true
    universal_timeout        = 20
    # configuring number of parallel session 
    api_session = 10
    gui_session = 11
  }
  // to change the ome appliance time setting
  proxy_setting = {
    enable_proxy = true
    # ip address and port is require when enable proxy is true 
    ip_address            = "1.0.0.1"
    proxy_port            = 443
    enable_authentication = true
    # username and password is required when enable authentication is true 
    username = "root"
    password = "root"
  }
  // to change the ome appliance adapter setting
  adapter_setting = {
    enable_nic     = true
    interface_name = "ens160"
    reboot_delay   = 0
    management_vlan = {
      enable_vlan = false
    }
    ipv6_configuration = {
      enable_ipv6               = true
      enable_auto_configuration = true
    }
    dns_configuration = {
      register_with_dns = false
    }
  }
}

# session setting without universal_timeout
resource "ome_appliance_network" "net2" {
  // to change the ome appliance session setting
  session_setting = {
    # configuring timeout attributes
    enable_universal_timeout = false
    api_timeout              = 20
    gui_timeout              = 20
    # configuring number of parallel session 
    api_session = 10
    gui_session = 11
  }
}

# static IP adapter setting 
resource "ome_appliance_network" "net3" {
  adapter_setting = {
    enable_nic     = true
    interface_name = "ens160"
    reboot_delay   = 0
    ipv6_configuration = {
      enable_ipv6               = true
      enable_auto_configuration = false
      # static ipv6 configuration
      static_ip_address    = "<static-ipv6>"
      static_gateway       = "<static-ipv6-gateway>"
      static_prefix_length = 64
      # static dns configuration
      use_dhcp_for_dns_server_names = false
      static_preferred_dns_server   = "<dns-server-1>"
      static_alternate_dns_server   = "<dns-server-2>"
    }

    ipv4_configuration = {
      enable_ipv4 = true
      enable_dhcp = false
      # static ipv4 configuration
      static_ip_address  = "10.10.10.10"
      static_subnet_mask = "255.255.255.0"
      static_gateway     = "10.10.10.1"
      # static dns configuration
      use_dhcp_for_dns_server_names = false
      static_alternate_dns_server   = "10.10.10.2"
      static_preferred_dns_server   = "10.10.10.3"
    }
  }
}
```

After the execution of above resource block, network setting would have been applied on the OME. For more information, Please check the terraform state file.

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `adapter_setting` (Attributes) Ome Adapter Setting (see [below for nested schema](#nestedatt--adapter_setting))
- `proxy_setting` (Attributes) Ome Proxy Setting (see [below for nested schema](#nestedatt--proxy_setting))
- `session_setting` (Attributes) Ome Session Setting (see [below for nested schema](#nestedatt--session_setting))
- `time_setting` (Attributes) Ome Time Setting (see [below for nested schema](#nestedatt--time_setting))

### Read-Only

- `id` (String) ID of the ome network setting.

<a id="nestedatt--adapter_setting"></a>
### Nested Schema for `adapter_setting`

Required:

- `enable_nic` (Boolean) Enable or disable Network Interface Card (NIC) configuration
- `interface_name` (String) If there are multiple interfaces, network configuration changes can be applied to a single interface using the `interface name` of the NIC.

Optional:

- `dns_configuration` (Attributes) Domain Name System(DNS) settings (see [below for nested schema](#nestedatt--adapter_setting--dns_configuration))
- `ipv4_configuration` (Attributes) IPv4 network configuration. (Warning) Ensure that you have an alternate interface to access OpenManage Enterprise as these options can change the current IPv4 address (see [below for nested schema](#nestedatt--adapter_setting--ipv4_configuration))
- `ipv6_configuration` (Attributes) IPv6 network configuration. (Warning) Ensure that you have an alternate interface to access OpenManage Enterprise as these options can change the current IPv6 address (see [below for nested schema](#nestedatt--adapter_setting--ipv6_configuration))
- `job_id` (Number) Job ID
- `management_vlan` (Attributes) vLAN configuration. settings are applicable for OpenManage Enterprise Modular (see [below for nested schema](#nestedatt--adapter_setting--management_vlan))
- `reboot_delay` (Number) The time in seconds, after which settings are applied

<a id="nestedatt--adapter_setting--dns_configuration"></a>
### Nested Schema for `adapter_setting.dns_configuration`

Optional:

- `dns_domain_name` (String) Static DNS domain name. This is applicable when "use_dhcp_for_dns_domain_name" is false.
- `dns_name` (String) DNS name for "hostname". This is applicable when "register_with_dns" is true.
- `register_with_dns` (Boolean) Register/Unregister I(dns_name) on the DNS Server.This option cannot be updated if vLAN configuration changes.
- `use_dhcp_for_dns_server_names` (Boolean) Get the "dns_domain_name" using a DHCP server.


<a id="nestedatt--adapter_setting--ipv4_configuration"></a>
### Nested Schema for `adapter_setting.ipv4_configuration`

Required:

- `enable_ipv4` (Boolean) Enable or disable access to the network using IPv4.

Optional:

- `enable_dhcp` (Boolean) Enable or disable the automatic request to get an IPv4 address from the IPv4 Dynamic Host Configuration Protocol (DHCP) server. If enable_dhcp option is true, OpenManage Enterprise retrieves the IP configurationâ€”IPv4 address, subnet mask, and gateway from a DHCP server on the existing network.
- `static_alternate_dns_server` (String) Static IPv4 DNS alternate server. This option is applicable when "use_dhcp_for_dns_server_names" is false.
- `static_gateway` (String) Static IPv4 gateway address. This option is applicable when "enable_dhcp" is false.
- `static_ip_address` (String) Static IPv4 address. This option is applicable when "enable_dhcp" is false.
- `static_preferred_dns_server` (String) Static IPv4 DNS preferred server. This option is applicable when "use_dhcp_for_dns_server_names" is false.
- `static_subnet_mask` (String) Static IPv4 subnet mask address. This option is applicable when "enable_dhcp" is false.
- `use_dhcp_for_dns_server_names` (Boolean) This option allows to automatically request and obtain a DNS server IPv4 address from the DHCP server. This option is applicable when "enable_dhcp" is true.


<a id="nestedatt--adapter_setting--ipv6_configuration"></a>
### Nested Schema for `adapter_setting.ipv6_configuration`

Required:

- `enable_ipv6` (Boolean) Enable or disable access to the network using the IPv6.

Optional:

- `enable_auto_configuration` (Boolean) Enable or disable the automatic request to get an IPv6 address from the IPv6 DHCP server or router advertisements(RA). If "enable_auto_configuration" is true, OME retrieves IP configuration-IPv6 address, prefix, and gateway, from a DHCPv6 server on the existing network
- `static_alternate_dns_server` (String) Static IPv6 DNS alternate server. This option is applicable when "use_dhcp_for_dns_server_names" is false.
- `static_gateway` (String) Static IPv6 gateway address. This option is applicable when "enable_auto_configuration" is false.
- `static_ip_address` (String) Static IPv6 address. This option is applicable when "enable_auto_configuration" is false.
- `static_preferred_dns_server` (String) Static IPv6 DNS preferred server. This option is applicable when "use_dhcp_for_dns_server_names" is false.
- `static_prefix_length` (Number) Static IPv6 prefix length. This option is applicable when "enable_auto_configuration" is false.
- `use_dhcp_for_dns_server_names` (Boolean) This option allows to automatically request and obtain a DNS server IPv6 address from the DHCP server. This option is applicable when "enable_auto_configuration" is true.


<a id="nestedatt--adapter_setting--management_vlan"></a>
### Nested Schema for `adapter_setting.management_vlan`

Required:

- `enable_vlan` (Boolean) Enable or disable vLAN for management.The vLAN configuration cannot be updated if the "register_with_dns" field under "dns_configuration" is true. WARNING: Ensure that the network cable is plugged to the correct port after the vLAN configurationchanges have been made. If not, the configuration change may not be effective.

Optional:

- `id` (Number) vLAN ID. This option is applicable when "enable_vlan" is true.



<a id="nestedatt--proxy_setting"></a>
### Nested Schema for `proxy_setting`

Required:

- `enable_proxy` (Boolean) Enables or disables the HTTP proxy configuration. If "enable proxy" is false, then the HTTP proxy configuration is set to its default value.

Optional:

- `enable_authentication` (Boolean) Enable or disable proxy authentication. If "enable_authentication" is true, "proxy_username" and "proxy_password" must be provided. If "enable_authentication" is false, the proxy username and password are set to its default values.
- `ip_address` (String) Proxy server address. This option is mandatory when "enable_proxy" is true.
- `password` (String) Proxy server password. This option is mandatory when "enable_authentication" is true.
- `proxy_port` (Number) Proxy server's port number. This option is mandatory when "enable_proxy" is true.
- `username` (String) Proxy server username. This option is mandatory when "enable_authentication" is true.


<a id="nestedatt--session_setting"></a>
### Nested Schema for `session_setting`

Optional:

- `api_session` (Number) The maximum number of API sessions to be allowed.
- `api_timeout` (Number) Duration of inactivity in minutes after which the API session ends. This is mutually exclusive with "universal_timeout".
- `enable_universal_timeout` (Boolean) Enable or disable the universal inactivity timeout.
- `gui_session` (Number) The maximum number of GUI sessions to be allowed.
- `gui_timeout` (Number) Duration of inactivity in minutes after which the web interface of Graphical User Interface (GUI) session ends. This is mutually exclusive with "universal_timeout".
- `serial_session` (Number) The maximum number of serial console sessions to be allowed. This is applicable only for OpenManage Enterprise Modular.
- `serial_timeout` (Number) Duration of inactivity in minutes after which the serial console session ends.This is applicable only for OpenManage Enterprise Modular. This is mutually exclusive with "universal_timeout".
- `ssh_session` (Number) The maximum number of SSH sessions to be allowed. This is applicable to OME-M only.
- `ssh_timeout` (Number) Duration of inactivity in minutes after which the SSH session ends. This is applicable only for OpenManage Enterprise Modular. This is mutually exclusive with "universal_timeout".
- `universal_timeout` (Number) Duration of inactivity in minutes after which all sessions end. This is applicable when "enable_universal_timeout" is true. This is mutually exclusive with "api_timeout", "gui_timeout", "ssh_timeout" and "serial_timeout".


<a id="nestedatt--time_setting"></a>
### Nested Schema for `time_setting`

Required:

- `time_zone` (String) The valid timezone ID to be used. This option is applicable for both system time and NTP time synchronization.

Optional:

- `enable_ntp` (Boolean) Enables or disables Network Time Protocol(NTP).If "enable_ntp" is false, then the NTP addresses reset to their default values.
- `primary_ntp_address` (String) The primary NTP address. This option is applicable when "enable_ntp" is true.
- `secondary_ntp_address1` (String) The first secondary NTP address. This option is applicable when "enable_ntp" is true.
- `secondary_ntp_address2` (String) The second secondary NTP address. This option is applicable when "enable_ntp" is true.
- `system_time` (String) Time in the current system. This option is only applicable when "enable_ntp" is false. This option must be provided in following format 'yyyy-mm-dd hh:mm:ss'.

